<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link th:href="@{../css/style.css}" rel="stylesheet" type="text/css" href="../static/css/style.css" >

    <script>
        function createTable() {
            let table = document.getElementById('mainTable')
            for (let hours = 0; hours < 25; hours++) {
                let row = table.insertRow();
                let timeCell = row.insertCell();
                timeCell.innerHTML = hours + ":00";
                for (let dayOfWeek = 1; dayOfWeek < 7; dayOfWeek++) {
                    emptyCell = row.insertCell();
                    emptyCell.classList.add("emptyCell");
                }
            }
        }
    </script>

    </head>
<body>
<table>
    <tr>
        <td><h1>Meet Room</h1></td>
        <td style="text-align:right"><h2 th:text="${username}">Username</h2></td>
    </tr>
</table>
<table id="mainTable" class="calendarTable">
    <thead>
    <tr>
        <th width="10%">Time</th>
        <th>Monday</th>
        <th>Tuesday</th>
        <th>Wednesday</th>
        <th>Thursday</th>
        <th>Friday</th>
        <th>Saturday</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
    <script>
        createTable();
    </script>
    <script  th:inline="javascript">
        let dayOfWeek, hour, cell;
        [# th:each="meeting:${meetings}"]
            dayOfWeek = [[${meeting.getStartTime().getDayOfWeek().getValue()}]]
            hour = [[${meeting.getStartTime().getHour()}]]
            cell = document.getElementById('mainTable').rows[hour + 1].cells[dayOfWeek];
            cell.innerHTML = [[${meeting.getShortDescription()}]];
            cell.id = [[${meeting.id}]];
            cell.classList.add("busyCell");
            cell.onclick = (cell) => {
                alert([[${meeting.getFullDescription()}]]);
            };
        [/]
    </script>
</table>
</body>
</html>